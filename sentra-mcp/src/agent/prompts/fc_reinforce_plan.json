{
  "zh": "上轮输出无效（未解析到有效步骤或全部被过滤）。请重新输出：\n- 允许工具列表：{{allowed_list}}。每个步骤的 aiName 必须严格从该列表中选择，严禁发明列表外的新工具名（例如 schedule_progress、schedule_*、timer 等）。若确实没有任何工具适用，可以返回空 steps 数组，而不是发明伪工具。\n- 调度语义：禁止将“调度/延时/定时”设计为单独的工具名（如 schedule_xxx 或 timer）。如需表达调度或延时，只能在某个真实工具的 draftArgs 内通过 schedule 字段来描述（例如 draftArgs.schedule.trigger_at、draftArgs.schedule.delay_ms 等），绝不能把 schedule 写成新的 aiName。\n- 多样化约束：避免重复上轮失败的工具与策略，必要时加入信息收集/授权/诊断等前置步骤（必须包含 draftArgs）。\n- 计划质量：每步仅一个工具，明确 nextStep；若所有工具都不合适，可以输出空计划，而不是勉强选择错误工具。\n- CRITICAL: 在 <sentra-tools> 工具调用块中，draftArgs 中的字符串值必须进行标准 XML 转义（特别是 <、>、&、\" 和 '），以保证 XML 结构合法；同时不要额外改变其语义或内容。\n- 这是第 {{attempt}} 次尝试（最多 {{max_retries}} 次）",
  "en": "Previous output was invalid (no valid steps parsed or all filtered). Please re-output:\n- Allowed tools: {{allowed_list}}. For every step, aiName MUST be chosen strictly from this allowed list. You MUST NOT invent new tool names outside the list (for example schedule_progress, schedule_* or timer). If no tool truly fits, you should return an empty steps array instead of inventing pseudo tools.\n- Scheduling semantics: You MUST NOT model \"scheduling / delay / timer\" as a separate tool name (such as schedule_xxx or timer). If scheduling is needed, you MUST express it via a schedule field inside draftArgs of a valid tool (for example draftArgs.schedule.trigger_at, draftArgs.schedule.delay_ms, etc.), NEVER as a new aiName.\n- Diversification: avoid repeating previously failed tools/strategies; add information-gathering/authorization/diagnostics steps when necessary (they MUST include draftArgs).\n- Plan quality: one tool per step, with a clear nextStep. If no tool fits, you MAY output an empty plan instead of forcing an incorrect tool choice.\n- CRITICAL: Inside <sentra-tools> blocks, you MUST XML-escape special characters (<, >, &, \" and ') in draftArgs string values so that the XML remains well-formed, while preserving the underlying content semantics.\n- This is attempt {{attempt}} (max {{max_retries}})"
}
